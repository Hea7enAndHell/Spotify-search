/*! For license information please see main.min.js.LICENSE.txt */
!function(){"use strict";var e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],t=e.join(","),n="undefined"==typeof Element,o=n?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,a=!n&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},r=function e(t,n){var o;void 0===n&&(n=!0);var a=null==t||null===(o=t.getAttribute)||void 0===o?void 0:o.call(t,"inert");return""===a||"true"===a||n&&t&&e(t.parentNode)},i=function(e,n,a){if(r(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(t));return n&&o.call(e,t)&&i.unshift(e),i.filter(a)},s=function e(n,a,i){for(var s=[],c=Array.from(n);c.length;){var l=c.shift();if(!r(l,!1))if("SLOT"===l.tagName){var u=l.assignedElements(),d=e(u.length?u:l.children,!0,i);i.flatten?s.push.apply(s,d):s.push({scopeParent:l,candidates:d})}else{o.call(l,t)&&i.filter(l)&&(a||!n.includes(l))&&s.push(l);var v=l.shadowRoot||"function"==typeof i.getShadowRoot&&i.getShadowRoot(l),f=!r(v,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(v&&f){var p=e(!0===v?l.children:v.children,!0,i);i.flatten?s.push.apply(s,p):s.push({scopeParent:l,candidates:p})}else c.unshift.apply(c,l.children)}}return s},c=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},l=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!c(e)?0:e.tabIndex},u=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},d=function(e){return"INPUT"===e.tagName},v=function(e){var t=e.getBoundingClientRect(),n=t.width,o=t.height;return 0===n&&0===o},f=function(e,t){return!(t.disabled||r(t)||function(e){return d(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=o.call(e,"details>summary:first-of-type")?e.parentElement:e;if(o.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return v(e)}else{if("function"==typeof r){for(var s=e;e;){var c=e.parentElement,l=a(e);if(c&&!c.shadowRoot&&!0===r(c))return v(e);e=e.assignedSlot?e.assignedSlot:c||l===e.ownerDocument?c:l.host}e=s}if(function(e){var t,n,o,r,i=e&&a(e),s=null===(t=i)||void 0===t?void 0:t.host,c=!1;if(i&&i!==e)for(c=!!(null!==(n=s)&&void 0!==n&&null!==(o=n.ownerDocument)&&void 0!==o&&o.contains(s)||null!=e&&null!==(r=e.ownerDocument)&&void 0!==r&&r.contains(e));!c&&s;){var l,u,d;c=!(null===(u=s=null===(l=i=a(s))||void 0===l?void 0:l.host)||void 0===u||null===(d=u.ownerDocument)||void 0===d||!d.contains(s))}return c}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var a=t.children.item(n);if("LEGEND"===a.tagName)return!!o.call(t,"fieldset[disabled] *")||!a.contains(e)}return!0}t=t.parentElement}return!1}(t))},p=function(e,t){return!(function(e){return function(e){return d(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||a(e),o=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=o(window.CSS.escape(e.name));else try{t=o(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var r=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!r||r===e}(e)}(t)||l(t)<0||!f(e,t))},m=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},b=function e(t){var n=[],o=[];return t.forEach((function(t,a){var r=!!t.scopeParent,i=r?t.scopeParent:t,s=function(e,t){var n=l(e);return n<0&&t&&!c(e)?0:n}(i,r),u=r?e(t.candidates):i;0===s?r?n.push.apply(n,u):n.push(i):o.push({documentOrder:a,tabIndex:s,item:t,isScope:r,content:u})})),o.sort(u).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},h=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return!1!==o.call(e,t)&&p(n,e)},y=e.concat("iframe").join(","),g=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==o.call(e,y)&&f(t,e)};function w(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},k=function(e){return setTimeout(e,0)},_=function(e,t){var n=-1;return e.every((function(e,o){return!t(e)||(n=o,!1)})),n},N=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return"function"==typeof e?e.apply(void 0,n):e},T=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target};const O=document.getElementById("login"),A=document.getElementById("login-button"),I=document.querySelector(".login__description"),R=document.getElementById("logout"),F=document.querySelector(".page"),C=document.querySelector(".header"),D=document.querySelector(".aside"),x=document.querySelector(".aside-content"),P=document.querySelector(".main"),q=document.querySelector(".footer"),$=document.querySelector(".user__button"),G=document.querySelector(".playlist-songs__list"),j=document.querySelector(".view__compact-button"),B=document.querySelector(".view__list-button"),M=document.querySelector(".sort__button"),U=document.querySelector(".sort-content"),H=document.querySelectorAll(".sort-content__button"),K=document.querySelector(".sort-content__button[data-sort-default]"),W=document.querySelector(".sort-content__button[data-sort-date]"),z=document.querySelector(".sort-content__button[data-sort-name]"),Y=document.querySelector(".scroll-up-button"),X=document.querySelector(".header__playlist-name"),J=document.querySelector(".header__playlist-songs-amount"),V=document.querySelector(".library__other-playlists-text"),Q=document.querySelector(".library__other-playlists-list"),Z=document.querySelector(".library__liked-songs-button");let ee=[],te=[],ne=0,oe=!1;function ae(e){const t=1.6*parseFloat(window.getComputedStyle(document.documentElement).fontSize);return e=parseFloat(e)/16*10,Math.floor(e*Math.floor(t))}function re(){D.classList.add("active"),D.classList.remove("aside-swipe-animation"),document.body.classList.add("no-scroll"),F.classList.add("backdrop");for(const e of F.children)e.classList.contains("aside")||e.setAttribute("inert","")}function ie(){D.classList.remove("active"),document.body.classList.remove("no-scroll"),F.classList.remove("backdrop");for(const e of F.children)e.classList.contains("aside")||e.removeAttribute("inert")}window.addEventListener("resize",(()=>{P.style.marginTop=C.offsetHeight+"px",U.classList.contains("active")&&U.classList.remove("active"),window.innerWidth>ae("107rem")&&D.classList.contains("active")&&ie()})),window.addEventListener("scroll",(()=>{U.classList.contains("active")&&U.classList.remove("active"),window.scrollY>=100?(Y.classList.add("active"),Y.removeAttribute("disabled"),Y.removeAttribute("aria-disabled")):(Y.classList.remove("active"),Y.setAttribute("disabled",""),Y.setAttribute("aria-disabled","true"))})),Y.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),document.addEventListener("click",(e=>{U.classList.contains("active")&&U.classList.remove("active"),window.innerWidth<=ae("107rem")&&D.classList.contains("active")&&(!e.target.closest(".aside")||e.target.closest("button"))&&ie()})),$.addEventListener("click",(e=>{e.stopPropagation(),U.classList.contains("active")&&U.classList.remove("active"),window.innerWidth<=ae("107rem")&&(D.classList.toggle("active")?re():ie())})),M.addEventListener("click",(e=>{e.stopPropagation(),window.innerWidth<=ae("107rem")&&D.classList.contains("active")&&ie(),U.classList.toggle("active"),U.style.top=M.getBoundingClientRect().top+"px",U.style.left=M.offsetWidth/4.2+M.getBoundingClientRect().right+"px"})),U.addEventListener("click",(e=>{e.stopPropagation()})),x.addEventListener("scroll",(()=>{U.classList.remove("active")})),D.addEventListener("touchstart",(e=>{window.innerWidth<=ae("107rem")&&!D.classList.contains("active")&&(ne=e.changedTouches[0].screenX)})),D.addEventListener("touchmove",(e=>{U.classList.contains("active")&&U.classList.remove("active"),window.innerWidth<=ae("107rem")&&!D.classList.contains("active")&&e.changedTouches[0].screenX>ne+60&&re()})),j.addEventListener("click",(()=>{j.classList.contains("active")||(j.classList.add("active"),B.classList.remove("active"),G.classList.remove("view-list"))})),B.addEventListener("click",(()=>{B.classList.contains("active")||(B.classList.add("active"),j.classList.remove("active"),G.classList.add("view-list"))}));const se="https://hea7enandhell.github.io/Spotify-search/";function ce(){const e=window.location.hash;let t=function(e){if(localStorage.getItem(e))return JSON.parse(localStorage.getItem(e))}("accessToken");var n;return e&&(t=new URLSearchParams(e.substring(1)).get("access_token"),n=t,localStorage.setItem("accessToken",JSON.stringify(n)),window.location.hash=""),t}async function le(e,t){const n=await fetch(`https://api.spotify.com/v1/${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});return 401===n.status?(I.textContent="Please sign in again",D.classList.add("hidden"),C.classList.add("hidden"),P.classList.add("hidden"),q.classList.add("hidden"),O.classList.remove("hidden"),!1):(D.classList.contains("hidden")&&D.classList.remove("hidden"),n)}async function ue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"me",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;const a=await le(e,`${t}/tracks?offset=${n}&limit=${o}`);if(!1===a)return;const r=await a.json(),i={number:n,totalTracks:r.total,tracks:r.items};if(C.classList.contains("hidden")&&(J.textContent=r.total,C.classList.remove("hidden"),P.style.marginTop=C.offsetHeight+"px",P.classList.remove("hidden"),q.classList.remove("hidden")),function(e){let{totalTracks:t,tracks:n,number:o}=e;n.forEach(((e,n)=>{let{added_at:a,track:r}=e;const i={trackAdded:a,trackNumber:(o+n+1).toString().padStart(t.toString().length,"0"),trackArtists:r.artists.map((e=>e.name)).join(", "),trackName:r.name,trackImage:r.album.images[1].url,trackDuration:de(r.duration_ms)};ee.push(i),te.push(i),G.insertAdjacentHTML("beforeend",ve(i))}))}(i),!(r.total<=n+o))return ue(e,t,n+o,o);oe=!0}function de(e){const t=Math.round(e/1e3%60).toString().padStart(2,"0"),n=Math.floor(e/6e4%60).toString().padStart(2,"0"),o=Math.floor(e/36e5%24).toString().padStart(2,"0");return`${"00"!==o?o+":":""}${n}:${t}`}function ve(e){let{trackNumber:t,trackImage:n,trackDuration:o,trackArtists:a,trackName:r}=e;return`\n        <li class="playlist-songs__item">\n            <div class="playlist-songs__image-wrap">\n                <img class="playlist-songs__image"\n                    src="${n}" alt="Image" loading="lazy">\n            </div>\n            <div class="playlist-songs__item-content">\n                <div class="playlist-songs__number-wrap">\n                    <p class="playlist-songs__number">${t}</p>\n                    <p class="playlist-songs__duration">${o}</p>\n                </div>\n                <div class="playlist-songs__song">\n                    <p class="playlist-songs__song-artists">${a}</p>\n                    <p class="playlist-songs__song-title">${r}</p>\n                </div>\n                <a href="${function(e,t){const n=`${e.replace(/,/g,"")} ${t.replace(/,/g,"")} download`;return`https://www.google.com.ua/search?q=${encodeURIComponent(n)}`}(a,r)}"\n                    target="_blank" class="playlist-songs__link" aria-label="search ${a} ${r}">Search</a>\n            </div>\n        </li>\n    `}function fe(e,t){if(!oe)return;const n=e.classList.contains("active");n||(H.forEach((e=>{e.classList.remove("active","reverse")})),e.classList.add("active")),n&&e.classList.toggle("reverse"),ee.sort(t),e.classList.contains("reverse")&&ee.reverse(),pe(ee)}function pe(e){G.innerHTML="",e.forEach(((e,t,n)=>{e.trackNumber=(t+1).toString().padStart(n.length.toString().length,"0"),G.insertAdjacentHTML("beforeend",ve(e))}))}function me(e,t){const n=e.trackArtists.localeCompare(t.trackArtists);return 0!==n?n:e.trackName.localeCompare(t.trackName)}function be(e,t){return e.trackAdded.localeCompare(t.trackAdded)}A.addEventListener("click",(()=>{const e=`https://accounts.spotify.com/authorize?client_id=98f436cbfd3a4a6bb6ad4fda6427b451&response_type=token&redirect_uri=${encodeURIComponent(se)}&scope=${encodeURIComponent("user-library-read user-read-private user-read-email playlist-read-private playlist-read-collaborative")}`;window.location.href=e})),R.addEventListener("click",(()=>{localStorage.removeItem("accessToken");const e=window.open("https://accounts.spotify.com/logout","Spotify Logout","width=500,height=500,top=40,left=40");setTimeout((()=>{e.close(),window.location.href=se}),2e3)})),window.addEventListener("load",(async()=>{const e=ce();if(e){G.innerHTML="",Q.innerHTML="";const{userName:t,userImage:n}=await async function(e){const t=await le(e,"me");if(!1===t)return!1;const n=await t.json();return{userName:n.display_name,userImage:n.images[1]?`<img src="${n.images[1].url}" alt="User image" class="user__image">`:null}}(e);document.querySelector(".user__name").textContent=t,n&&(document.querySelector(".user__image").parentElement.outerHTML=n),async function(e){const t=await le(e,"me/playlists?limit=50");if(!1===t)return;const n=await t.json();n.total<1?V.textContent="No playlists":(V.remove(),n.items.forEach((e=>{Q.insertAdjacentHTML("beforeend",function(e){let{id:t,images:n,name:o}=e;return`\n        <li class="library__other-playlists-item">\n            <button type="button" class="library__playlist-button" data-playlist-id="${t}">\n                ${n?`<img src="${n[0].url}" alt="Image" class="library__playlist-image">`:'<picture>\n                                <source srcset="./images/music-note.avif" type="image/avif">\n                                <source srcset="./images/music-note.webp" type="image/webp">\n                                <img src="./images/music-note.png" alt="Image" class="library__playlist-image">\n                            </picture>'}\n                <h4 class="library__playlist-name">${o}</h4>\n            </button>\n        </li>\n    `}(e))})))}(e),await ue(e)}else O.classList.remove("hidden")})),window.addEventListener("click",(async e=>{if(e.target.closest(".library__playlist-button")&&!e.target.closest(".library__playlist-button.active")&&!e.target.closest(".library__liked-songs-button")&&oe){oe=!1;const t=ce(),n=e.target.closest(".library__playlist-button"),o=n.dataset.playlistId,a=n.querySelector(".library__playlist-name").textContent;document.querySelectorAll(".library__playlist-button").forEach((e=>{e.classList.remove("active")})),n.classList.add("active"),H.forEach((e=>{e.classList.remove("active","reverse")})),K.classList.add("active"),C.classList.add("hidden"),X.textContent=a,G.innerHTML="",ee=[],te=[],await ue(t,`playlists/${o}`)}})),Z.addEventListener("click",(async()=>{if(Z.classList.contains("active")||!oe)return;oe=!1;const e=ce();document.querySelectorAll(".library__playlist-button").forEach((e=>{e.classList.remove("active")})),Z.classList.add("active"),H.forEach((e=>{e.classList.remove("active","reverse")})),K.classList.add("active"),C.classList.add("hidden"),X.textContent=Z.textContent,G.innerHTML="",ee=[],te=[],await ue(e)})),K.addEventListener("click",(()=>{oe&&!K.classList.contains("active")&&(H.forEach((e=>{e.classList.remove("active","reverse")})),K.classList.add("active"),pe(te))})),W.addEventListener("click",(()=>{fe(W,be)})),z.addEventListener("click",(()=>{fe(z,me)}));const he=(ye=U,Le=(null==(ge={onActivate:()=>{},onDeactivate:()=>{U.classList.remove("active")},escapeDeactivates:!0,clickOutsideDeactivates:!0})?void 0:ge.document)||document,Ee=(null==ge?void 0:ge.trapStack)||[],Se=E({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:function(e){return S(e)&&!e.shiftKey},isKeyBackward:function(e){return S(e)&&e.shiftKey}},ge),ke={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},_e=function(e,t,n){return e&&void 0!==e[t]?e[t]:Se[n||t]},Ne=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return ke.containerGroups.findIndex((function(t){var o=t.container,a=t.tabbableNodes;return o.contains(e)||(null==n?void 0:n.includes(o))||a.find((function(t){return t===e}))}))},Te=function(e){var t=Se[e];if("function"==typeof t){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var r=t;if("string"==typeof t&&!(r=Le.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return r},Oe=function(){var e=Te("initialFocus");if(!1===e)return!1;if(void 0===e||!g(e,Se.tabbableOptions))if(Ne(Le.activeElement)>=0)e=Le.activeElement;else{var t=ke.tabbableGroups[0];e=t&&t.firstTabbableNode||Te("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},Ae=function(){if(ke.containerGroups=ke.containers.map((function(e){var t=function(e,t){var n;return n=(t=t||{}).getShadowRoot?s([e],t.includeContainer,{filter:p.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:m}):i(e,t.includeContainer,p.bind(null,t)),b(n)}(e,Se.tabbableOptions),n=function(e,t){return(t=t||{}).getShadowRoot?s([e],t.includeContainer,{filter:f.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):i(e,t.includeContainer,f.bind(null,t))}(e,Se.tabbableOptions),o=t.length>0?t[0]:void 0,a=t.length>0?t[t.length-1]:void 0,r=n.find((function(e){return h(e)})),c=n.slice().reverse().find((function(e){return h(e)})),u=!!t.find((function(e){return l(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:u,firstTabbableNode:o,lastTabbableNode:a,firstDomTabbableNode:r,lastDomTabbableNode:c,nextTabbableNode:function(e){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=t.indexOf(e);return a<0?o?n.slice(n.indexOf(e)+1).find((function(e){return h(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return h(e)})):t[a+(o?1:-1)]}}})),ke.tabbableGroups=ke.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),ke.tabbableGroups.length<=0&&!Te("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(ke.containerGroups.find((function(e){return e.posTabIndexesFound}))&&ke.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},Ie=function(e){var t=e.activeElement;if(t)return t.shadowRoot&&null!==t.shadowRoot.activeElement?Ie(t.shadowRoot):t},Re=function(e){!1!==e&&e!==Ie(document)&&(e&&e.focus?(e.focus({preventScroll:!!Se.preventScroll}),ke.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):Re(Oe()))},Fe=function(e){var t=Te("setReturnFocus",e);return t||!1!==t&&e},Ce=function(e){var t=e.target,n=e.event,o=e.isBackward,a=void 0!==o&&o;t=t||T(n),Ae();var r=null;if(ke.tabbableGroups.length>0){var i=Ne(t,n),s=i>=0?ke.containerGroups[i]:void 0;if(i<0)r=a?ke.tabbableGroups[ke.tabbableGroups.length-1].lastTabbableNode:ke.tabbableGroups[0].firstTabbableNode;else if(a){var c=_(ke.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(c<0&&(s.container===t||g(t,Se.tabbableOptions)&&!h(t,Se.tabbableOptions)&&!s.nextTabbableNode(t,!1))&&(c=i),c>=0){var u=0===c?ke.tabbableGroups.length-1:c-1,d=ke.tabbableGroups[u];r=l(t)>=0?d.lastTabbableNode:d.lastDomTabbableNode}else S(n)||(r=s.nextTabbableNode(t,!1))}else{var v=_(ke.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(v<0&&(s.container===t||g(t,Se.tabbableOptions)&&!h(t,Se.tabbableOptions)&&!s.nextTabbableNode(t))&&(v=i),v>=0){var f=v===ke.tabbableGroups.length-1?0:v+1,p=ke.tabbableGroups[f];r=l(t)>=0?p.firstTabbableNode:p.firstDomTabbableNode}else S(n)||(r=s.nextTabbableNode(t))}}else r=Te("fallbackFocus");return r},De=function(e){var t=T(e);Ne(t,e)>=0||(N(Se.clickOutsideDeactivates,e)?we.deactivate({returnFocus:Se.returnFocusOnDeactivate}):N(Se.allowOutsideClick,e)||e.preventDefault())},xe=function(e){var t=T(e),n=Ne(t,e)>=0;if(n||t instanceof Document)n&&(ke.mostRecentlyFocusedNode=t);else{var o;e.stopImmediatePropagation();var a=!0;if(ke.mostRecentlyFocusedNode)if(l(ke.mostRecentlyFocusedNode)>0){var r=Ne(ke.mostRecentlyFocusedNode),i=ke.containerGroups[r].tabbableNodes;if(i.length>0){var s=i.findIndex((function(e){return e===ke.mostRecentlyFocusedNode}));s>=0&&(Se.isKeyForward(ke.recentNavEvent)?s+1<i.length&&(o=i[s+1],a=!1):s-1>=0&&(o=i[s-1],a=!1))}}else ke.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return l(e)>0}))}))||(a=!1);else a=!1;a&&(o=Ce({target:ke.mostRecentlyFocusedNode,isBackward:Se.isKeyBackward(ke.recentNavEvent)})),Re(o||ke.mostRecentlyFocusedNode||Oe())}ke.recentNavEvent=void 0},Pe=function(e){(Se.isKeyForward(e)||Se.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ke.recentNavEvent=e;var n=Ce({event:e,isBackward:t});n&&(S(e)&&e.preventDefault(),Re(n))}(e,Se.isKeyBackward(e))},qe=function(e){var t;"Escape"!==(null==(t=e)?void 0:t.key)&&"Esc"!==(null==t?void 0:t.key)&&27!==(null==t?void 0:t.keyCode)||!1===N(Se.escapeDeactivates,e)||(e.preventDefault(),we.deactivate())},$e=function(e){var t=T(e);Ne(t,e)>=0||N(Se.clickOutsideDeactivates,e)||N(Se.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},Ge=function(){if(ke.active)return function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var o=e.indexOf(t);-1===o||e.splice(o,1),e.push(t)}(Ee,we),ke.delayInitialFocusTimer=Se.delayInitialFocus?k((function(){Re(Oe())})):Re(Oe()),Le.addEventListener("focusin",xe,!0),Le.addEventListener("mousedown",De,{capture:!0,passive:!1}),Le.addEventListener("touchstart",De,{capture:!0,passive:!1}),Le.addEventListener("click",$e,{capture:!0,passive:!1}),Le.addEventListener("keydown",Pe,{capture:!0,passive:!1}),Le.addEventListener("keydown",qe),we},je=function(){if(ke.active)return Le.removeEventListener("focusin",xe,!0),Le.removeEventListener("mousedown",De,!0),Le.removeEventListener("touchstart",De,!0),Le.removeEventListener("click",$e,!0),Le.removeEventListener("keydown",Pe,!0),Le.removeEventListener("keydown",qe),we},Be="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===ke.mostRecentlyFocusedNode}))}))&&Re(Oe())})):void 0,Me=function(){Be&&(Be.disconnect(),ke.active&&!ke.paused&&ke.containers.map((function(e){Be.observe(e,{subtree:!0,childList:!0})})))},(we={get active(){return ke.active},get paused(){return ke.paused},activate:function(e){if(ke.active)return this;var t=_e(e,"onActivate"),n=_e(e,"onPostActivate"),o=_e(e,"checkCanFocusTrap");o||Ae(),ke.active=!0,ke.paused=!1,ke.nodeFocusedBeforeActivation=Le.activeElement,null==t||t();var a=function(){o&&Ae(),Ge(),Me(),null==n||n()};return o?(o(ke.containers.concat()).then(a,a),this):(a(),this)},deactivate:function(e){if(!ke.active)return this;var t=E({onDeactivate:Se.onDeactivate,onPostDeactivate:Se.onPostDeactivate,checkCanReturnFocus:Se.checkCanReturnFocus},e);clearTimeout(ke.delayInitialFocusTimer),ke.delayInitialFocusTimer=void 0,je(),ke.active=!1,ke.paused=!1,Me(),function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}(Ee,we);var n=_e(t,"onDeactivate"),o=_e(t,"onPostDeactivate"),a=_e(t,"checkCanReturnFocus"),r=_e(t,"returnFocus","returnFocusOnDeactivate");null==n||n();var i=function(){k((function(){r&&Re(Fe(ke.nodeFocusedBeforeActivation)),null==o||o()}))};return r&&a?(a(Fe(ke.nodeFocusedBeforeActivation)).then(i,i),this):(i(),this)},pause:function(e){if(ke.paused||!ke.active)return this;var t=_e(e,"onPause"),n=_e(e,"onPostPause");return ke.paused=!0,null==t||t(),je(),Me(),null==n||n(),this},unpause:function(e){if(!ke.paused||!ke.active)return this;var t=_e(e,"onUnpause"),n=_e(e,"onPostUnpause");return ke.paused=!1,null==t||t(),Ae(),Ge(),Me(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return ke.containers=t.map((function(e){return"string"==typeof e?Le.querySelector(e):e})),ke.active&&Ae(),Me(),this}}).updateContainerElements(ye),we);var ye,ge,we,Le,Ee,Se,ke,_e,Ne,Te,Oe,Ae,Ie,Re,Fe,Ce,De,xe,Pe,qe,$e,Ge,je,Be,Me;M.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),window.innerWidth<=ae("107rem")&&D.classList.contains("active")&&ie(),U.classList.add("active"),U.style.top=M.getBoundingClientRect().top+"px",U.style.left=M.offsetWidth/4.2+M.getBoundingClientRect().right+"px",he.activate())})),window.addEventListener("load",(()=>{document.body.classList.remove("js-stop-transition")}))}();
//# sourceMappingURL=main.min.js.map